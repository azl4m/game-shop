<%- include("../partials/user/header.ejs")%>

<body>
    <div class="login-container">
        <div class="signup-container">
        <h2>Signup</h2>
        <form action="/signup" method="post" id="signForm">
            <label for="user">userName:</label>
            <input type="text" id="name" name="username" required>
            
            <span id="error1" class="error-message"></span>

            <label for="email">Email:</label>
            <input type="email" id="email" name="email" required>

            <span id="error2" class="error-message"></span>


            <label for="phone">Phone:</label>
            <input type="tel" id="phone" name="phone" required>

            <span id="error3" class="error-message"></span>

            <label for="password">Password:</label>
            <input type="password" id="password" name="password" required>
            
            <span id="error4" class="error-message"></span>

            <label for="cpassword">Password:</label>
            <input type="password" id="cpassword" name="password" required>

            <span id="error5" class="error-message"></span>

            <button type="submit">Sign Up</button>
        </form>
    </div>

    </div>
</body>

  
<%- include("../partials/user/footer.ejs")%>
 
<script>
    const nameid = document.getElementById("name")
    const emailid = document.getElementById("email")
    const phoneid = document.getElementById("phone")
    const passid = document.getElementById("password")
    const cpassid = document.getElementById("cpassword")
    const error1 = document.getElementById("error1")
    const error2 = document.getElementById("error2")
    const error3 = document.getElementById("error3")
    const error4 = document.getElementById("error4")
    const error5 = document.getElementById("error5")
    const signForm = document.getElementById("signForm")

    function nameValidate(e){
        const nameVal = nameid.value;
        const namePattern = /^[A-Za-z\s]+$/;
        if(nameVal.trim()===""){
            error1.style.display = "block";
            error1.innerHTML="Please enter a valid name"
        }
    }

    document.addEventListener("DOMContentLoaded",()=>{
        signForm.addEventListener("submit",(e)=>{
            nameValidate();
            emailValidate();
            phoneValidate();
            passValidate();
            if(
                !nameid||!emailid||!phoneid||!passid||!error1||!error2||!error3||!error4||!error5||!signForm
            ){
                console.error("One or more elements not found")
            }
            if(
                error1.innerHTML||error2.innerHTML||error3.innerHTML||error4.innerHTML||error5.innerHTML
            ){
                e.preventDefault();
            }
        })
    })
</script>